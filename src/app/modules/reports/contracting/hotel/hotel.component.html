<div class="sm:absolute sm:inset-0 flex flex-col flex-auto min-w-0 sm:overflow-hidden  dark:bg-transparent">

    <!-- Header -->
    <div
        class="relative flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between max-sm:sticky max-sm:z-30 max-sm:top-0  dark:bg-gray-900 xl:py-4 py-3 px-6 md:px-8 border-b">
        <!-- Loader -->
        <div class="absolute inset-x-0 bottom-0" *ngIf="loading">
            <mat-progress-bar [mode]="'indeterminate'"></mat-progress-bar>
        </div>
        <div class=" xl:font-extrabold font-bold tracking-tight max-sm:flex max-sm:w-full max-sm:justify-between">
            <span class="text-3xl">{{module_name}}</span>

        </div>
        <!-- Actions -->
        <div class="flex flex-shrink-0 items-center mt-6 sm:mt-0 sm:ml-4 max-sm:mt-2 max-sm:justify-between">

            <!-- Search -->
            <mat-form-field class="fuse-mat-dense fuse-mat-rounded min-w-64" [subscriptSizing]="'dynamic'">
                <mat-icon class="icon-size-5" matPrefix [svgIcon]="'heroicons_solid:magnifying-glass'"></mat-icon>
                <input matInput [formControl]="searchInputControl" [autocomplete]="'off'" [placeholder]="'Search'">
            </mat-form-field>

            <button class="ml-4" mat-flat-button [color]="'primary'" (click)="filterModal()">
                <mat-icon class="w-10 h-10">filter_alt</mat-icon>
                <span class="">Filter</span>
            </button>

            <button class="ml-4" mat-flat-button [disabled]="loading" (click)="refreshItems()" [color]="'primary'">
                <mat-icon class="icon-size-4.5" svgIcon="feather:refresh-ccw"></mat-icon>
            </button>
        </div>
    </div>

    <div class="overflow-auto flex flex-col rounded-b-lg">
        <div class="flex flex-col overflow-auto max-w-full rounded-b-lg">
            <table mat-table [dataSource]="dataSource" class="border-collapse border sale-tab" matSort
                matSortDisableClear matSortDirection="desc" matSortActive="payment_request_date"
                (matSortChange)="refreshItems()">
                <!-- <ng-container matColumnDef="action" [sticky]="true">
                    <th mat-header-cell class="font-bold text-md field-blue-bg max-w-8 min-w-8" *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let element" class=" white-bg max-w-8 min-w-8">
                        <div class="flex items-center justify-center">
                            <button mat-icon-button [matMenuTriggerFor]="optionMenu"
                                class="sticky left-0 bg-gray-50 dark:bg-gray-900"
                                style="border-radius: 0%; width: 100%">
                                <mat-icon> more_vert </mat-icon>
                            </button>
                        </div>
                        <mat-menu #optionMenu>
                            <button mat-menu-item (click)="info(element)">
                                <mat-icon class="mat-18">info</mat-icon>
                                <span style="font-weight: 600">Info</span>
                            </button>
                            <mat-divider></mat-divider>
                        </mat-menu>
                    </td>
                </ng-container> -->

                <ng-container matColumnDef="company_name">
                    <th mat-header-cell mat-sort-header class="font-bold text-md   field-blue-bg min-w-40 max-w-40"
                        *matHeaderCellDef>
                        Company Name
                    </th>
                    <td mat-cell *matCellDef="let element" class=" min-w-40 max-w-40">
                        <span
                            class="white-text px-1 flex items-center truncate min-w-32 rounded-md w-fit text-md font-medium">
                            <span>{{ element.company_name }}</span>
                        </span>
                    </td>
                </ng-container>

                <ng-container matColumnDef="jan">
                    <th mat-header-cell mat-sort-header
                        class="font-bold text-md  justify-center field-blue-bg min-w-26 max-w-26" *matHeaderCellDef>
                        <span class="justify-center">Jan</span>
                    </th>
                    <td mat-cell *matCellDef="let element" class=" min-w-26 max-w-26">
                        <span class="white-text px-1 flex items-center min-w-20 rounded-md w-fit text-md font-medium">
                            <span>{{ element.jan ?? ' - ' }} ({{ element.jan_per }} %)</span>
                        </span>
                    </td>
                </ng-container>

                <ng-container matColumnDef="feb">
                    <th mat-header-cell class="font-bold text-md   field-blue-bg min-w-26 max-w-26" *matHeaderCellDef>
                        Feb
                    </th>
                    <td mat-cell *matCellDef="let element" class=" min-w-26 max-w-26 cursor-pointer">
                        <p class="text-md font-medium truncate pr-1 cursor-pointer" [matTooltip]="element.feb">
                            {{ element.feb ?? ' - ' }} ({{ element.feb_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="mar">
                    <th mat-header-cell class="font-bold text-md   field-blue-bg min-w-26 max-w-26" *matHeaderCellDef>
                        Mar
                    </th>
                    <td mat-cell *matCellDef="let element" class="min-w-26 max-w-26 cursor-pointer">
                        <p class="text-md font-medium truncate pr-1 cursor-pointer" [matTooltip]="element.mar">
                            {{ element.mar ?? ' - ' }} ({{ element.mar_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="apr">
                    <th mat-header-cell mat-sort-header class="font-bold text-md   field-blue-bg min-w-26 max-w-26"
                        *matHeaderCellDef>
                        Apr
                    </th>
                    <td mat-cell *matCellDef="let element" class=" min-w-26 max-w-26">
                        <p class="text-md font-medium pr-1 truncate" [matTooltip]="element.apr">
                            {{ element.apr ?? ' - ' }} ({{ element.apr_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="may">
                    <th mat-header-cell mat-sort-header class="font-bold text-md   field-blue-bg min-w-26 max-w-26"
                        *matHeaderCellDef>
                        May
                    </th>
                    <td mat-cell *matCellDef="let element" class="min-w-26 max-w-26">
                        <p class="text-md font-medium truncate pr-1" [matTooltip]="element.may">
                            {{ element.may ?? ' - ' }} ({{ element.may_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="jun">
                    <th mat-header-cell mat-sort-header
                        class="font-bold text-md field-blue-bg min-w-26 max-w-26 mat-header-right-view"
                        *matHeaderCellDef>
                        Jun
                    </th>
                    <td mat-cell *matCellDef="let element" class="min-w-26 max-w-26">
                        <p class="text-md font-medium">
                            {{ element.jun ?? ' - ' }} ({{ element.jun_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="jul">
                    <th mat-header-cell mat-sort-header class="font-bold text-md field-blue-bg min-w-26 max-w-26"
                        *matHeaderCellDef>
                        Jul
                    </th>
                    <td mat-cell *matCellDef="let element" class="min-w-26 max-w-26">
                        <p class="text-md font-medium">
                            {{ element.jul ?? ' - ' }} ({{ element.jul_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="aug">
                    <th mat-header-cell mat-sort-header class="font-bold text-md field-blue-bg min-w-26 max-w-26"
                        *matHeaderCellDef>
                        Aug
                    </th>
                    <td mat-cell *matCellDef="let element" class="min-w-26 max-w-26">
                        <p class="text-md font-medium">
                            {{ element.aug ?? ' - ' }} ({{ element.aug_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="sep">
                    <th mat-header-cell mat-sort-header class="font-bold text-md field-blue-bg min-w-26 max-w-26"
                        *matHeaderCellDef>
                        Sep
                    </th>
                    <td mat-cell *matCellDef="let element" class="min-w-26 max-w-26">
                        <p class="text-md font-medium">
                            {{ element.sep ?? ' - ' }} ({{ element.sep_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="oct">
                    <th mat-header-cell mat-sort-header class="font-bold text-md field-blue-bg min-w-26 max-w-26"
                        *matHeaderCellDef>
                        Oct
                    </th>
                    <td mat-cell *matCellDef="let element" class="min-w-26 max-w-26">
                        <p class="text-md font-medium">
                            {{ element.oct ?? ' - ' }} ({{ element.oct_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="nov">
                    <th mat-header-cell mat-sort-header class="font-bold text-md  field-blue-bg min-w-26 max-w-26"
                        *matHeaderCellDef>
                        Nov
                    </th>
                    <td mat-cell *matCellDef="let element" class="min-w-26 max-w-26">
                        <p class="text-md font-medium">
                            {{ element.nov ?? ' - ' }} ({{ element.nov_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="dec">
                    <th mat-header-cell mat-sort-header class="font-bold text-md   field-blue-bg min-w-26 max-w-26"
                        *matHeaderCellDef>
                        Dec
                    </th>
                    <td mat-cell *matCellDef="let element" class="min-w-26 max-w-26">
                        <p class="text-md font-medium">
                            {{ element.dec ?? ' - ' }} ({{ element.dec_per }} %)
                        </p>
                    </td>
                </ng-container>

                <ng-container matColumnDef="totalCount">
                    <th mat-header-cell mat-sort-header class="font-bold text-md field-blue-bg min-w-26 max-w-26"
                        *matHeaderCellDef>
                        Total
                    </th>
                    <td mat-cell *matCellDef="let element" class="min-w-26 max-w-26">
                        <p class="text-md font-medium">
                            {{ element.totalCount }}
                        </p>
                    </td>
                </ng-container>



                <tr class="h-9 min-h-9 sticky top-0 z-10" mat-header-row *matHeaderRowDef="columns; sticky: true"></tr>
                <tr class="h-9 border-0" mat-row *matRowDef="let row; columns: columns"></tr>
            </table>
        </div>
        <div *ngIf="dataSource.filteredData.length <= 0">
            <div class="p-8 sm:p-16  text-3xl tracking-tight text-center pt-20">
                {{getNodataText()}}
            </div>
        </div>
        <mat-paginator class="absolute z-10  w-full bottom-0 border-t dark:bg-gray-900 rounded-lg" #paginator
            [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="10" (page)="refreshItems()" showFirstLastButtons>
        </mat-paginator>
    </div>

</div>