<div class="flex flex-col max-w-240 md:min-w-100 max-h-screen -m-6">

    <!-- Header -->
    <div class="flex flex-0 items-center justify-between h-16 pr-3 sm:pr-5 pl-6 sm:pl-8 bg-primary">
        <div class="text-lg font-medium text-white">Working Status - {{data.employee_name}}</div>
        <button mat-icon-button (click)="matDialogRef.close()" [tabIndex]="-1">
            <mat-icon class="text-current text-white" [svgIcon]="'heroicons_outline:x-mark'"></mat-icon>
        </button>
    </div>

    <form class="flex flex-col flex-auto px-6 pt-6 overflow-y-auto" [formGroup]="formGroup">
        <div class="flex flex-col items-center justify-center mb-6">
            <span class="text-secondary font-semibold text-md">Joining Date</span>
            <span class="text-base">{{data.joining_date | date: 'dd-MM-yyyy'}} - {{data.is_working ? 'Countinue' :
                (data.last_working_date | date: 'dd-MM-yyyy')}}</span>
        </div>

        <mat-form-field class="flex-grow">
            <mat-label>Working</mat-label>
            <mat-select formControlName="is_working" required>
                <mat-option [value]="true">Yes</mat-option>
                <mat-option [value]="false">No</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field class="flex-grow" [ngClass]="!formGroup.get('is_working').value ? 'flex' : 'hidden'">
            <mat-label>Left Date</mat-label>
            <input matInput [required]="!formGroup.get('is_working').value" [matDatepicker]="picker"
                placeholder="Choose a date" formControlName="date">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <mat-form-field class="flex-grow" [ngClass]="!formGroup.get('is_working').value ? 'flex' : 'hidden'">
            <mat-label>Left Reason</mat-label>
            <textarea matInput [required]="!formGroup.get('is_working').value" formControlName="note"></textarea>
        </mat-form-field>

    </form>


    <div class="flex items-center justify-end mt-4 sm:mt-0 pr-6 pb-4 space-x-3">
        <!-- Discard -->
        <button mat-stroked-button (click)="matDialogRef.close()">
            Close
        </button>
        <!-- Save as draft -->
        <button mat-flat-button [color]="'primary'" (click)="submit()" [disabled]="disableBtn">
            Save
        </button>
    </div>
</div>