<!-- Two Factor Authentication -->
<div class="flex flex-col gap-4 " id="two-factor">
    <div class="flex items-center justify-between border-b dark:border-[#374252] pb-4 -mx-6 px-6">
        <div class="flex items-center">
            <h1 class="text-3xl font-semibold text-[#0B0D0E] font-Inter dark:text-white">Two-factor Authentication</h1>
            <!-- <button class="bg-red-100 text-[#B45437] font-medium font-Inter py-1 px-3 ml-2 rounded-md text-sm">
                DISABLE
            </button>
            <button *ngIf="false"
                class="white-bg primary-text font-medium font-Inter py-1 px-3 ml-2 rounded-md text-sm ">
                ENABLED
            </button> -->
        </div>
        
        <button *ngIf="twoFaAuthenticationService.isTfaEnabled" type="button" mat-icon-button (click)="matDialogRef.close()" [tabIndex]="-1">
            <mat-icon class="text-current text-[#374252] dark:text-white"
                [svgIcon]="'heroicons_outline:x-mark'"></mat-icon>
        </button>
    </div>
    <div class="body">
        <p class="text-[#48505C] mb-6 font-normal text-lg dark:text-[#E5E1E1]">
            Enable two-factor authentication to add an extra layer of security. A second login step can keep your
            account secure, even if your password is compromised. To enable it, all you need is a smart phone.
        </p>

        <div class="space-y-2">
            <h1 class="text-xl font-medium text-[#0B0D0E] dark:text-white font-Inter mb-4">Two-Factor Method</h1>

            <ng-container *ngFor="let method of twoFaAuthenticationService?.twoFactorMethod; let i = index">
                <div class="flex items-center justify-between pt-2 pl-0 pr-4 pb-4 dark:border-[#374252]"
                [ngClass]="{'border-b border-stone-200': i < (twoFaAuthenticationService?.twoFactorMethod?.length - 1)}">
                    <div class="flex space-x-3">
                        <div class="text-blue-500 dark:text-[#687798]">
                            <img [src]="method.iconDark" alt="Bonton Logo" class="mx-auto w-7 h-7 pt-1" />
                        </div>
                        <div>
                            <h2 class="font-medium font-Inter text-xl text-[#24282E] dark:text-white">
                                {{ method.title }}
                                <button type="button" *ngIf="method.is_enabled"
                                    class="font-Inter py-1 px-3 ml-0.5 rounded-md text-sm text-[#2AB775] border border-[#2AB775] cursor-default">
                                    CONFIGURED
                                </button>
                            </h2>
                            <p class="text-base font-Inter font-normal text-[#24282E] dark:text-[#879FC1] pt-1">
                                {{ method.content }}
                            </p>
                            <div *ngIf="method.is_selected" class="flex items-center font-Inter font-medium text-base text-[#0D9488] pt-1">
                                <mat-icon svgIcon="heroicons_solid:check-circle" class="icon-size-6 text-[#0D9488] pr-1"></mat-icon>
                                Selected
                            </div>
                        </div>
                    </div>
    
                    <div class="flex flex-col">
                        <ng-container *ngIf="!method.is_enabled; else disableButtons">
                            <button mat-flat-button type="button" [color]="'primary'" class="px-8 min-w-26 min-h-8 font-semibold text-base" 
                                (click)="authenticationEnabled(method)">
                                Enable
                            </button>
                        </ng-container>
    
                        <ng-template #disableButtons>
                            <button type="button"
                                class="px-8 min-w-26 min-h-8 font-semibold text-base text-[#B43737] bg-[#FFEDED]"
                                mat-flat-button (click)="authenticationDisabled(method)">
                                Disable
                            </button>
    
                            <button type="button" *ngIf="!method.is_selected" (click)="switchAuthentication(method)"
                                class="font-Inter font-semibold text-base p-1 mt-3 rounded-full text-[#000000] dark:text-[#ffffff] min-w-24 min-h-9 border border-[#0D9488]">
                                Select
                            </button>
                        </ng-template>
                    </div>
                </div>
            </ng-container>
            
        </div>
    </div>

    <!-- Note Section -->
    <!-- <p class="text-sm pb-2">
        <span class="font-Inter font-semibold text-lg dark:text-white">Note :</span>
        <span class="font-Inter text-lg pl-1 dark:text-[#E5E1E1]">
            Activating two-factor authentication will sign you out of all other sessions.
        </span>
    </p> -->
</div>